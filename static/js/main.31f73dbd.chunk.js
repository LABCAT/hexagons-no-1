(this["webpackJsonphexagons-no-1"]=this["webpackJsonphexagons-no-1"]||[]).push([[0],{19:function(e,o,t){},33:function(e,o,t){"use strict";t.r(o);var r=t(1),n=t(0),a=t.n(n),i=t(10),s=t.n(i);t(19);var u=function(e){for(var o,t,r=e.length;0!==r;)t=Math.floor(Math.random()*r),o=e[r-=1],e[r]=e[t],e[t]=o;return e},l=t(11),c=t(12),d=function(){function e(o,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4;Object(l.a)(this,e),this.p=o,this.x=t,this.y=r,this.colour=n,this.hasFill=a,this.maxSize=i,this.radius=1}return Object(c.a)(e,[{key:"draw",value:function(){this.p.stroke(this.colour),this.hasFill?this.p.fill(this.colour):this.p.noFill();var e=this.radius/2;this.p.angleMode(this.p.RADIANS);var o=this.p.TWO_PI/6;this.p.beginShape();for(var t=this.p.TWO_PI/12;t<this.p.TWO_PI+this.p.TWO_PI/12;t+=o){var r=this.x+this.p.cos(t)*e,n=this.y+this.p.sin(t)*e;this.p.vertex(r,n)}this.p.endShape(this.p.CLOSE)}},{key:"update",value:function(){this.radius<this.maxSize&&(this.radius=this.radius+20)}}]),e}(),h=t(3);window.p5=h;t(21);var g=t.p+"static/media/hexagons-no-1.59b6af7a.ogg",f=t.p+"static/media/hexagons-no-1.b1027ce3.mid",C=t(2),p=t(13),v=function(){var e=Object(n.useRef)(),o=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.isLoaded=!1,e.cueSet1Completed=[],e.cueSet2Completed=[],e.i=0,e.coloursArray=[0,255,"variable"],e.colourSets=[],e.strokeColour={r:0,g:0,b:0},e.fillColour={r:0,g:0,b:0},e.noteSet1=[],e.noteSet1CurrentCue=0,e.hexSizeDivider=16,e.innerHexCount=1,e.noteSet2=[],e.noteSet2CurrentCue=1,e.backgroundHexagons=[],e.outroHexagons=[],e.outroFills=[],e.outroStrokes=[],e.preload=function(){e.song=e.loadSound(g),C.Transport.PPQ=15360,e.randomColor=t(31),e.outroFills=e.randomColor({luminosity:"dark",count:14,format:"rgbArray"}),e.outroStrokes=e.randomColor({luminosity:"bright",count:14,format:"rgbArray"}),p.Midi.fromUrl(f).then((function(o){e.noteSet1=o.tracks[3].notes,e.noteSet2=o.tracks[7].notes,e.loadColours(),e.player=new C.Player(g).toMaster(),e.player.sync().start(0);for(var t=-1,r=0;r<e.noteSet1.length;r++){var n=e.noteSet1[r],a=n.ticks;a!==t&&(C.Transport.schedule((function(){e.executeNoteSet1(e.noteSet1CurrentCue),e.noteSet1CurrentCue++}),n.time),t=a)}t=-1;for(var i=0;i<e.noteSet2.length;i++){var s=e.noteSet2[i],u=s.time,l=s.ticks;l!==t&&(C.Transport.schedule((function(){e.executeNoteSet2(e.noteSet2CurrentCue),e.noteSet2CurrentCue++}),u),t=l)}e.isLoaded=!0}))},e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.background(0),e.frameRate(30)},e.redrawBG=!0,e.draw=function(){if("started"===e.player.state&&e.isLoaded){e.redrawBG&&e.background(0);for(var o=0;o<e.backgroundHexagons.length;o++)e.backgroundHexagons[o].update(),e.backgroundHexagons[o].draw();e.animateHexagons1(e.width/2,e.height/2,e.width/e.hexSizeDivider),e.i=e.i+16;for(var t=0;t<e.outroHexagons.length;t++)e.outroHexagons[t].update(),e.outroHexagons[t].draw()}},e.executeNoteSet1=function(o){e.cueSet1Completed.includes(o)||(e.cueSet1Completed.push(o),e.i=0,e.strokeColour.r=e.colourSets[o].strokeColour.r,e.strokeColour.g=e.colourSets[o].strokeColour.g,e.strokeColour.b=e.colourSets[o].strokeColour.b,e.fillColour.r=e.colourSets[o].fillColour.r,e.fillColour.g=e.colourSets[o].fillColour.g,e.fillColour.b=e.colourSets[o].fillColour.b,o>78&&(e.hexSizeDivider=12,e.innerHexCount=2),o>=119&&(e.redrawBG=!1,e.strokeColour.r=e.outroStrokes[o-119][0],e.strokeColour.g=e.outroStrokes[o-119][1],e.strokeColour.b=e.outroStrokes[o-119][2],e.fillColour.r=e.outroFills[o-119][0],e.fillColour.g=e.outroFills[o-119][1],e.fillColour.b=e.outroFills[o-119][2]),132===o&&function(){for(var o=parseInt(1e3*e.noteSet1[e.noteSet1.length-1].duration)/24,t=e.width/e.hexSizeDivider*4,r=e.randomColor({count:24}),n=function(n){setTimeout((function(){var o=e.color(r[n]);e.outroHexagons.push(new d(e,e.width/2,e.height/2,o,!0,t)),e.hexagon(e.width/2,e.height/2,t),t-=t/24}),o*n)},a=0;a<24;a++)n(a)}())},e.executeNoteSet2=function(o){if(!e.cueSet2Completed.includes(o)){e.cueSet2Completed.push(o),o%9===1&&(e.backgroundHexagons=[]);var t=27===o?0:e.color(e.random(255),e.random(255),e.random(255)),r=o>18&&o<=27;e.backgroundHexagons.push(new d(e,e.width/2,e.height/2,t,r))}},e.animateHexagons1=function(o,t,r){for(var n=e.i-1;n<e.i;){e.strokeWeight(e.width/288),e.stroke(e.getColourValue(e.strokeColour.r,n),e.getColourValue(e.strokeColour.g,n),e.getColourValue(e.strokeColour.b,n)),e.fill(e.getColourValue(e.fillColour.r,n),e.getColourValue(e.fillColour.g,n),e.getColourValue(e.fillColour.b,n),63+n/8);for(var a=1;a<=e.innerHexCount;a++)e.hexagon(o+n,t+n,r/a),e.hexagon(o+n,t-n,r/a),e.hexagon(o+n,t,r/a),e.hexagon(o-n,t,r/a),e.hexagon(o-n,t+n,r/a),e.hexagon(o-n,t-n,r/a),e.hexagon(o,t+n,r/a),e.hexagon(o,t-n,r/a);n++}},e.hexagon=function(o,t,r){var n=r/2;e.angleMode(e.RADIANS);var a=e.TWO_PI/6;e.beginShape();for(var i=e.TWO_PI/12;i<e.TWO_PI+e.TWO_PI/12;i+=a){var s=o+e.cos(i)*n,u=t+e.sin(i)*n;e.vertex(s,u)}e.endShape(e.CLOSE)},e.loadColours=function(){for(var o=0;o<e.noteSet1.length;o++){var t=u(e.coloursArray),r={strokeColour:{r:t[0],g:t[1],b:t[2]}},n=t.reverse();r.fillColour={r:n[0],g:n[1],b:n[2]},e.colourSets.push(r)}},e.getColourValue=function(e,o){return"variable"===e?255-o:e},e.mousePressed=function(){"started"===e.player.state?C.Transport.pause():"stopped"===e.player.state&&C.Transport.start()},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("\n","\n"))},e.reset=function(){e.clear(),e.background(0)},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.createCanvas(e.canvasWidth,e.canvasHeight),e.redraw()},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(n.useEffect)((function(){new h(o,e.current)}),[]),Object(r.jsx)("div",{ref:e})};var S=function(){return Object(r.jsx)(v,{})};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(S,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.31f73dbd.chunk.js.map